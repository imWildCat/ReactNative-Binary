name: "Set up and Archive"
description: "Set up and archive the project"
inputs:
  xcode-configuration:
    description: "Build configuration of Xcode, either Debug or Release"
    required: true
runs:
  using: "composite"
  steps:
    - uses: ./.github/workflows/setup
      name: Setup
      with:
        xcode-configuration: ${{ inputs.xcode-configuration }}
    - uses: ./.github/workflows/bundle-xcframeworks
      name: Generate xcframeworks
      with:
        xcode-configuration: "${{ inputs.xcode-configuration }}"
    - name: Upload to artifacts
      uses: actions/upload-artifact@v3
      with:
        name: "ReactNative-binary-${{ inputs.xcode-configuration }}"
        path: "ReactNative-binary-${{ inputs.xcode-configuration }}.tar.gz"
